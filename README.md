# 1. Настроить сетевой фильтр, чтобы из внешней сети можно было обратиться только к сервисам
http и ssh (80 и 443).

**ВЫПОЛНЕНИЕ:**

iptables -F

iptables -A INPUT -p tcp --dport 80 -j ACCEPT</br>                               - разрешить входящий трафик к сервисам HTTP

iptables -A INPUT -p tcp --dport 443 -j ACCEPT</br>                              - разрешить входящий трафик к сервисам HTTPS

iptables -A INPUT -j DROP</br>                                                   - остальной входящий трафик запретить

# 2. Запросы, идущие на порт 8080, перенаправлять на порт 80.

**ВЫПОЛНЕНИЕ:**

iptables -F

iptables -A INPUT -p tcp --dport 80 -j ACCEPT</br>                               - разрешить входящий трафик к сервисам HTTP

iptables -A INPUT -p tcp --dport 443 -j ACCEPT</br>                              - разрешить входящий трафик к сервисам HTTPS

iptables -t nat -A PREROUTING -p tcp --dport 8080 -j REDIRECT --to-port 80</br>         - Запросы, идущие на порт 8080, перенаправлять на порт 80

iptables -A INPUT -j DROP</br>                                                   - остальной входящий трафик запретить

# 3. Настроить доступ по ssh только для вашего IP-адреса (или из всей сети вашего провайдера).

**ВЫПОЛНЕНИЕ:**

iptables -F

iptables -A INPUT -p tcp --dport 80 -j ACCEPT</br>                               - разрешить входящий трафик к сервисам HTTP

iptables -A INPUT -p tcp --dport 443 -j ACCEPT</br>                              - разрешить входящий трафик к сервисам HTTPS

iptables -t nat -A PREROUTING -p tcp --dport 8080 -j REDIRECT --to-port 80</br>         - Запросы, идущие на порт 8080, перенаправлять на порт 80

iptables -A INPUT -p tcp --src 95.24.0.0/13 --dport 22 -j ACCEPT</br>          - Входящий трафик по ssh только для вашего IP-адреса (или из всей сети вашего провайдера).

iptables -A INPUT -j DROP</br>                                                   - остальной входящий трафик запретить


# 4. Создать нового пользователя, сгенерировать для него новые сертификаты. Настроить доступ на сервер вновь созданного пользователя с использованием сертификатов. Подключиться с помощью putty или ssh без ввода пароля (используя только сертификат).
Примечание: сертификат может быть подготовлен как в Ubuntu, так и с помощью
puttygen в windows.

**ВЫПОЛНЕНИЕ:**

![](/4.PNG)
